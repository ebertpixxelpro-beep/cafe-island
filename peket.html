<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu Makanan & Kopi Terbaik di Nusa Penida | Coral Cafe</title>
    
    <meta name="description" content="Daftar menu Coral Cafe 2024. Nikmati Kopi Kintamani, Smoothie Bowl buah naga, Bebek Betutu, dan hidangan seafood segar. Harga terjangkau dengan rasa bintang lima.">
    <meta name="keywords" content="harga menu coral cafe, makanan halal nusa penida, kopi kintamani, smoothie bowl bali, bebek betutu penida">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://coralcafepenida.com/peket.html">

    <meta property="og:title" content="Menu Lezat Coral Cafe Penida">
    <meta property="og:description" content="Cek menu favorit kami: Tropical Bowl, Seafood, dan Kopi Asli Bali.">
    <meta property="og:image" content="https://coralcafepenida.com/aset/Makanan (1).webp">

    <link rel="icon" type="image/x-icon" href="aset/favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Source+Sans+3:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Menu",
      "name": "Coral Cafe Menu",
      "mainEntityOfPage": "https://coralcafepenida.com/peket.html",
      "hasMenuSection": [
        {
          "@type": "MenuSection",
          "name": "Tropical Drink",
          "hasMenuItem": [
            {"@type": "MenuItem", "name": "Coconut Paradise", "offers": {"@type": "Offer", "price": "25000", "priceCurrency": "IDR"}},
            {"@type": "MenuItem", "name": "Dragon Smoothie", "offers": {"@type": "Offer", "price": "45000", "priceCurrency": "IDR"}}
          ]
        },
        {
          "@type": "MenuSection",
          "name": "Food",
          "hasMenuItem": [
            {"@type": "MenuItem", "name": "Bebek Betutu", "description": "Bebek bumbu rempah Bali + Plecing kangkung", "offers": {"@type": "Offer", "price": "65000", "priceCurrency": "IDR"}},
            {"@type": "MenuItem", "name": "Nasi Campur Bali", "offers": {"@type": "Offer", "price": "55000", "priceCurrency": "IDR"}}
          ]
        }
      ]
    }
    </script>
    <style>
        /* --- 1. CSS VARIABLES (SAMA PERSIS DENGAN INDEX) --- */
        :root{
            --bg-body:#F9F8F4;
            --bg-card:#FFFFFF;
            --text-main:#2D3A31;
            --text-muted:#5C6B61;
            --primary:#2D3A31;
            --accent:#8C9A84;
            --highlight:#C27B66;
            --border:#E6E2DA;
            --font-heading:'Playfair Display',serif;
            --font-body:'Source Sans 3',sans-serif;
            --container-width:1200px;
            --section-padding:6rem 5%;
            --radius-card:24px;
            --radius-pill:999px;
            --shadow-soft:0 10px 30px -5px rgba(45,58,49,0.05);
            --shadow-hover:0 20px 40px -10px rgba(45,58,49,0.15);
            --transition:all 0.5s cubic-bezier(0.22,1,0.36,1);
        }
        *{margin:0;padding:0;box-sizing:border-box}
        html{scroll-behavior:smooth}
        body{font-family:var(--font-body);color:var(--text-main);background-color:var(--bg-body);line-height:1.7;font-size:16px;overflow-x:hidden;position:relative}
        a{text-decoration:none;color:inherit;transition:var(--transition)}
        ul{list-style:none}
        img{max-width:100%;height:auto;display:block}
        h1,h2,h3,h4{font-family:var(--font-heading);font-weight:700;letter-spacing:-0.02em;line-height:1.2}

        /* --- NAVBAR (SAMA DENGAN INDEX + CART) --- */
        .navbar{display:flex;justify-content:space-between;align-items:center;padding:20px 5%;background-color:rgba(249,248,244,0.95);position:sticky;top:0;z-index:1000;border-bottom:1px solid rgba(0,0,0,0.05);transition:var(--transition)}
        .logo{font-family:var(--font-heading);font-size:1.75rem;color:var(--primary);font-weight:700;letter-spacing:-0.03em}
        .nav-links{display:flex;gap:40px;align-items: center;}
        .nav-links a{font-weight:500;font-size:0.95rem;color:var(--text-main);position:relative}
        .nav-links a::after{content:'';position:absolute;width:0;height:1px;bottom:-4px;left:0;background-color:var(--highlight);transition:width 0.3s}
        .nav-links a:hover::after{width:100%}
        .nav-links a:hover{color:var(--highlight)}
        
        /* Cart Icon Style */
        .cart-trigger { position: relative; cursor: pointer; color: var(--primary); font-size: 1.1rem; }
        .cart-count { 
            position: absolute; top: -8px; right: -10px; 
            background: var(--highlight); color: white; font-size: 0.7rem; 
            width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; 
            border-radius: 50%; font-weight: bold; opacity: 0; transition: 0.3s;
        }
        .cart-count.show { opacity: 1; }

        .menu-toggle {display: none; flex-direction: column; gap: 6px; cursor: pointer; z-index: 1001;}
        .bar{width:25px;height:2px;background:var(--text-main);transition:0.3s}
        .menu-toggle.active .bar:nth-child(1) {transform: rotate(-45deg) translate(-5px, 6px);}
        .menu-toggle.active .bar:nth-child(2) {opacity: 0;}
        .menu-toggle.active .bar:nth-child(3) {transform: rotate(45deg) translate(-5px, -6px);}

        /* --- HERO SECTION KHUSUS MENU --- */
        .hero-menu {
            height: 50vh; min-height: 400px;
            background: linear-gradient(rgba(45,58,49,0.4), rgba(45,58,49,0.6)), url('aset/islandcafeontheseafront (1).webp');
            background-size: cover; background-position: center;
            display: flex; align-items: center; justify-content: center;
            text-align: center; color: white; border-radius: 0 0 60px 60px;
            margin-bottom: 60px;
        }
        .hero-menu h1 { font-size: 3.5rem; margin-bottom: 15px; }
        .hero-menu p { font-size: 1.2rem; font-weight: 300; opacity: 0.9; }

        /* --- MENU LAYOUT & STYLES --- */
        .container { max-width: var(--container-width); margin: 0 auto; padding: 0 20px; }
        
        /* Tabs Kategori */
        .category-tabs { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-bottom: 50px; }
        .tab-btn {
            background: transparent; border: 1px solid var(--border);
            padding: 12px 30px; border-radius: var(--radius-pill);
            font-family: var(--font-body); font-weight: 600; color: var(--text-muted);
            cursor: pointer; transition: var(--transition);
        }
        .tab-btn:hover, .tab-btn.active {
            background: var(--primary); color: white; border-color: var(--primary);
            box-shadow: var(--shadow-soft);
        }

        /* Grid Menu */
        .menu-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 40px; margin-bottom: 80px; }
        .menu-card {
            background: var(--bg-card); border-radius: var(--radius-card); overflow: hidden;
            box-shadow: var(--shadow-soft); transition: var(--transition);
            border: 1px solid var(--border); display: flex; flex-direction: column;
        }
        .menu-card:hover { transform: translateY(-10px); box-shadow: var(--shadow-hover); }
        
        .card-img { height: 250px; overflow: hidden; position: relative; }
        .card-img img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.7s; }
        .menu-card:hover .card-img img { transform: scale(1.05); }
        
        .card-body { padding: 25px; display: flex; flex-direction: column; flex: 1; }
        .menu-title { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .menu-title h3 { font-size: 1.25rem; color: var(--primary); }
        .price { font-weight: 700; color: var(--highlight); font-family: var(--font-body); white-space: nowrap; }
        .desc { color: var(--text-muted); font-size: 0.95rem; margin-bottom: 20px; flex: 1; line-height: 1.5; }
        
        .btn-add {
            width: 100%; padding: 12px; background: transparent;
            border: 1px solid var(--primary); border-radius: var(--radius-pill);
            color: var(--primary); font-weight: 600; text-transform: uppercase;
            font-size: 0.85rem; cursor: pointer; transition: var(--transition);
            display: flex; justify-content: center; align-items: center; gap: 8px;
        }
        .btn-add:hover { background: var(--primary); color: white; }

        /* --- MODAL CHECKOUT (DESIGN BARU) --- */
        .modal-overlay {
            position: fixed; inset: 0; background: rgba(45, 58, 49, 0.7); z-index: 2000;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: 0.3s; backdrop-filter: blur(5px);
        }
        .modal-overlay.open { opacity: 1; pointer-events: auto; }
        
        .modal-content {
            background: var(--bg-card); width: 90%; max-width: 600px; max-height: 90vh;
            border-radius: var(--radius-card); overflow: hidden; display: flex; flex-direction: column;
            transform: translateY(30px); transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .modal-overlay.open .modal-content { transform: translateY(0); }
        
        .modal-header { padding: 20px 30px; background: var(--primary); color: white; display: flex; justify-content: space-between; align-items: center; }
        .modal-body { padding: 30px; overflow-y: auto; }
        
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: 600; font-size: 0.9rem; }
        .form-input {
            width: 100%; padding: 12px; border: 1px solid var(--border); border-radius: 8px;
            font-family: inherit; transition: 0.3s; outline: none;
        }
        .form-input:focus { border-color: var(--accent); }
        
        .cart-summary { background: #F2EFE9; padding: 20px; border-radius: 12px; margin-top: 20px; }
        .cart-item { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.95rem; border-bottom: 1px dashed #ccc; padding-bottom: 8px; }
        
        .btn-checkout {
            width: 100%; background: #25D366; color: white; padding: 15px;
            border: none; border-radius: var(--radius-pill); font-weight: 700;
            font-size: 1rem; cursor: pointer; display: flex; justify-content: center; align-items: center; gap: 10px;
            margin-top: 20px; transition: var(--transition);
        }
        .btn-checkout:hover { background: #1FAF53; transform: translateY(-2px); }

        /* --- FOOTER & FAB (SAMA DENGAN INDEX) --- */
        footer{background-color:var(--primary);color:#fff;padding:80px 5% 30px;border-radius:60px 60px 0 0;margin-top:40px}
        .footer-grid{display:grid;grid-template-columns:1.5fr 1fr 1fr 1fr;gap:60px;margin-bottom:60px}
        .footer-col h3{font-family:var(--font-heading);font-size:1.4rem;margin-bottom:24px;color:var(--accent)}
        .footer-col p{color:rgba(255,255,255,0.8);max-width:300px; line-height: 1.6;}
        .footer-col ul li{margin-bottom:12px; display: flex; align-items: center; gap: 10px;}
        .footer-col ul li i {color: var(--accent); width: 20px;}
        .footer-col ul li a{color:rgba(255,255,255,0.8);font-size:0.95rem}
        .footer-col ul li a:hover{color:#fff;padding-left:5px}
        .copyright{text-align:center;border-top:1px solid rgba(255,255,255,0.1);padding-top:30px;font-size:0.9rem;opacity:0.6;font-family:var(--font-body)}

        /* FAB Styles */
        #backToTopBtn {
            display: none; position: fixed; bottom: 25px; right: 20px; z-index: 999;
            border: none; outline: none; background-color: #2D3A31; color: white; cursor: pointer;
            width: 50px; height: 50px; border-radius: 50%; font-size: 18px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3); transition: 0.3s;
        }
        #backToTopBtn:hover {background-color: #C27B66; transform: translateY(-5px);}
        
        .wa-float-container {
            position: fixed; bottom: 90px; right: 20px; z-index: 999;
            display: flex; flex-direction: column; align-items: flex-end; gap: 15px;
        }
        .wa-btn {
            background-color: #25D366; color: white; width: 50px; height: 50px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; text-decoration: none;
            box-shadow: 2px 4px 12px rgba(0,0,0,0.3); font-size: 26px; position: relative;
            transition: transform 0.3s; animation: pulse-wa 3s infinite;
        }
        .wa-btn:hover {transform: scale(1.1); animation: none;}
        .wa-label {
            position: absolute; right: 60px; background: #2D3A31; color: white;
            padding: 6px 14px; border-radius: 50px; font-size: 13px; white-space: nowrap;
            opacity: 0; visibility: hidden; transition: all 0.3s; pointer-events: none;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .wa-btn:hover .wa-label {opacity: 1; visibility: visible; right: 65px;}
        @keyframes pulse-wa{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}

        /* Responsive */
        @media (max-width:900px){
            .hero-menu h1{font-size:2.5rem}
            .footer-grid{grid-template-columns:1fr;gap:40px}
            .menu-toggle{display:flex;}
            .nav-links{position:fixed;top:0;right:-100%;width:100%;height:100vh;background-color:var(--bg-body);flex-direction:column;justify-content:center;align-items:center;transition:0.4s ease-in-out;z-index:1000}
            .nav-links.active{right:0}
            .nav-links a{font-size:1.5rem;font-family:var(--font-heading)}
        }
    </style>
</head>
<body>

    <div class="wa-float-container">
        <a href="https://wa.me/6281234567890?text=Halo%20Coral%20Cafe" target="_blank" class="wa-btn" aria-label="WhatsApp">
            <i class="fab fa-whatsapp"></i>
            <span class="wa-label">Hubungi Kami</span>
        </a>
    </div>

    <button onclick="topFunction()" id="backToTopBtn" title="Kembali ke atas">
        <i class="fas fa-arrow-up"></i>
    </button>

    <nav class="navbar">
        <div class="logo">CORAL CAFE.</div>
        
        <button class="menu-toggle" id="mobile-menu">
            <span class="bar"></span><span class="bar"></span><span class="bar"></span>
        </button>

        <ul class="nav-links">
            <li><a href="index.html" onclick="toggleMenu()">Home</a></li>
            <li><a href="abot.html" onclick="toggleMenu()">About</a></li>
            <li><a href="peket.html" class="active" onclick="toggleMenu()">Menu</a></li>
            <li><a href="galeri.html" onclick="toggleMenu()">Galeri</a></li>
            <li><a href="blog.html" onclick="toggleMenu()">Blog</a></li>
            <li class="cart-trigger" onclick="openCart()">
                <i class="fas fa-shopping-basket"></i>
                <span class="cart-count" id="cartCount">0</span>
            </li>
        </ul>
    </nav>

    <header class="hero-menu">
        <div class="hero-content">
            <h1>Taste of Paradise</h1>
            <p>Pilihan menu terbaik dari bahan lokal Nusa Penida</p>
        </div>
    </header>

    <main class="container">
        
        <div class="category-tabs" id="menuTabs">
            <button class="tab-btn active" data-category="all">Semua</button>
            <button class="tab-btn" data-category="tropical">Tropical Drink</button>
            <button class="tab-btn" data-category="coffee">Coffee</button>
            <button class="tab-btn" data-category="food">Makanan</button>
        </div>

        <div class="menu-grid" id="menuContainer">
            </div>

    </main>

    <footer>
        <div class="footer-grid">
            <div class="footer-col">
                <div class="logo" style="color: #fff; margin-bottom: 20px;">CORAL CAFE.</div>
                <p>Menyajikan kehangatan pulau dewata dalam setiap hidangan dengan sentuhan alam yang menenangkan.</p>
            </div>
            
            <div class="footer-col">
                <h3>Navigasi</h3>
                <ul>
                    <li><i class="fas fa-chevron-right"></i> <a href="index.html">Home</a></li>
                    <li><i class="fas fa-chevron-right"></i> <a href="abot.html">Tentang Kami</a></li>
                    <li><i class="fas fa-chevron-right"></i> <a href="peket.html">Menu</a></li>
                    <li><i class="fas fa-chevron-right"></i> <a href="blog.html">Blog</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3>Hubungi Kami</h3>
                <ul>
                    <li><i class="fas fa-map-marker-alt"></i> Jalan Raya Nusa Penida, Bali</li>
                    <li><i class="fas fa-phone"></i> <a href="tel:+6281234567890">+62 812 3456 7890</a></li>
                    <li><i class="fas fa-envelope"></i> <a href="mailto:hello@coralcafepenida.com">hello@coralcafepenida.com</a></li>
                </ul>
            </div>
            
            <div class="footer-col">
                <h3>Ikuti Kami</h3>
                <ul>
                    <li><i class="fab fa-instagram"></i> <a href="#" aria-label="Instagram">Instagram</a></li>
                    <li><i class="fab fa-tiktok"></i> <a href="#" aria-label="TikTok">TikTok</a></li>
                    <li><i class="fab fa-facebook"></i> <a href="#" aria-label="Facebook">Facebook</a></li>
                </ul>
            </div>
        </div>

        <div class="copyright">
            &copy; 2024 Coral Cafe Penida. All Rights Reserved. Designed with Love.
        </div>
    </footer>

    <div class="modal-overlay" id="cartModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Pesanan Anda</h3>
                <i class="fas fa-times" onclick="closeCart()" style="cursor:pointer; font-size:1.2rem"></i>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Nama Pemesan</label>
                    <input type="text" id="custName" class="form-input" placeholder="Masukkan nama Anda">
                </div>
                <div class="form-group">
                    <label>Tipe Pesanan</label>
                    <select id="orderType" class="form-input" onchange="toggleAddress()">
                        <option value="Dine In">Dine-in (Makan di Tempat)</option>
                        <option value="Take Away">Take Away (Bungkus)</option>
                        <option value="Delivery">Delivery (Antar)</option>
                    </select>
                </div>
                <div class="form-group" id="addrBox" style="display:none">
                    <label>Alamat Pengantaran</label>
                    <textarea id="custAddr" class="form-input" rows="2" placeholder="Nama hotel / villa / alamat"></textarea>
                </div>

                <div class="cart-summary">
                    <div id="cartItems">
                        <p style="text-align:center; color:gray;">Keranjang masih kosong.</p>
                    </div>
                    <hr style="margin:15px 0; border:0; border-top:1px dashed #aaa;">
                    <div style="display:flex; justify-content:space-between; font-weight:700; font-size:1.1rem; color:var(--primary)">
                        <span>Total</span>
                        <span id="totalPrice">Rp 0</span>
                    </div>
                </div>

                <button class="btn-checkout" onclick="checkoutWA()">
                    <i class="fab fa-whatsapp"></i> Pesan via WhatsApp
                </button>
            </div>
        </div>
    </div>
            <div class="gallery-item">
                <img src="aset/islandcafeontheseafrontSmoothiebuahnagagranola..webp" alt="Smoothie Bowl">
                <div class="overlay"><span class="overlay-text">Tropical Taste</span></div>
            </div>
<script>
    // --- DATA MENU ---
    const products = [
        { id: 1, name: "Coconut Paradise", price: 25000, cat: "tropical", img: "aset/eskelapamuda (1).webp", desc: "Kelapa muda utuh fresh langsung dari pohon." },
        { id: 2, name: "Dragon Smoothie", price: 45000, cat: "tropical", img: "aset/b9a2b2da9876690f434223358b241c93Smoothiebowlbuahsegartropis.webp", desc: "Bowl buah naga dengan topping granola & pisang." }, // Ganti gambar sesuai aset
        { id: 3, name: "Bali Coffee V60", price: 30000, cat: "coffee", img: "aset/kopiasliBali..webp", desc: "Manual brew biji kopi Kintamani asli." },
        { id: 4, name: "Iced Latte Aren", price: 28000, cat: "coffee", img: "aset/EsKopiGulaAren.webp", desc: "Espresso, fresh milk, dan gula aren organik." },
        { id: 5, name: "Bebek Betutu", price: 65000, cat: "food", img: "aset/BebekBetutu.webp", desc: "Bebek bumbu rempah Bali + Plecing kangkung." },
        { id: 6, name: "Nasi Campur Bali", price: 55000, cat: "food", img: "aset/ChickenSatay.webp", desc: "Lengkap dengan sate lilit, lawar, dan ayam suwir." },
        { id: 7, name: "Pisang Goreng", price: 20000, cat: "food", img: "aset/pisanggorengmadu.webp", desc: "Pisang kepok goreng madu renyah." },
        { id: 8, name: "Watermelon Juice", price: 25000, cat: "tropical", img: "aset/islandcafeontheseafrontSmoothiebuahnagagranola..webp", desc: "Jus buah naga murni tanpa tambahan gula." }
    ];

    let cart = {};

    // --- RENDER MENU ---
    const container = document.getElementById('menuContainer');
    const tabs = document.querySelectorAll('.tab-btn');

    function renderMenu(category = 'all') {
        container.innerHTML = '';
        const filtered = category === 'all' ? products : products.filter(p => p.cat === category);
        
        filtered.forEach(p => {
            const card = document.createElement('article');
            card.className = 'menu-card';
            card.innerHTML = `
                <div class="card-img"><img src="${p.img}" alt="${p.name}" loading="lazy"></div>
                <div class="card-body">
                    <div class="menu-title">
                        <h3>${p.name}</h3>
                        <span class="price">Rp ${p.price.toLocaleString('id-ID')}</span>
                    </div>
                    <p class="desc">${p.desc}</p>
                    <button class="btn-add" onclick="addToCart(${p.id})">
                        <i class="fas fa-plus"></i> Tambah
                    </button>
                </div>
            `;
            container.appendChild(card);
        });
    }

    // Tab Logic
    tabs.forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelector('.tab-btn.active').classList.remove('active');
            btn.classList.add('active');
            renderMenu(btn.dataset.category);
        });
    });

    // --- CART LOGIC ---
    function addToCart(id) {
        if(cart[id]) cart[id]++;
        else cart[id] = 1;
        updateCartUI();
        // Feedback visual kecil
        const badge = document.getElementById('cartCount');
        badge.style.transform = "scale(1.5)";
        setTimeout(() => badge.style.transform = "scale(1)", 200);
    }

    function updateCartUI() {
        const totalItems = Object.values(cart).reduce((a, b) => a + b, 0);
        const badge = document.getElementById('cartCount');
        badge.innerText = totalItems;
        badge.classList.toggle('show', totalItems > 0);
        renderCartItems();
    }

    function renderCartItems() {
        const list = document.getElementById('cartItems');
        const totalPriceEl = document.getElementById('totalPrice');
        
        if (Object.keys(cart).length === 0) {
            list.innerHTML = '<p style="text-align:center; color:gray;">Keranjang masih kosong.</p>';
            totalPriceEl.innerText = 'Rp 0';
            return;
        }

        let html = '';
        let total = 0;

        for (const [id, qty] of Object.entries(cart)) {
            const product = products.find(p => p.id == id);
            const subtotal = product.price * qty;
            total += subtotal;
            html += `
                <div class="cart-item">
                    <div>
                        <b>${product.name}</b><br>
                        <small>Rp ${product.price.toLocaleString()} x ${qty}</small>
                    </div>
                    <div>
                        <span style="font-weight:bold">Rp ${subtotal.toLocaleString()}</span>
                        <div style="text-align:right; margin-top:5px;">
                            <i class="fas fa-minus-circle" style="color:#C27B66; cursor:pointer;" onclick="changeQty(${id}, -1)"></i>
                            <i class="fas fa-plus-circle" style="color:#2D3A31; cursor:pointer;" onclick="changeQty(${id}, 1)"></i>
                        </div>
                    </div>
                </div>
            `;
        }
        list.innerHTML = html;
        totalPriceEl.innerText = 'Rp ' + total.toLocaleString('id-ID');
    }

    function changeQty(id, delta) {
        cart[id] += delta;
        if (cart[id] <= 0) delete cart[id];
        updateCartUI();
    }

    // Modal Logic
    function openCart() { document.getElementById('cartModal').classList.add('open'); }
    function closeCart() { document.getElementById('cartModal').classList.remove('open'); }
    function toggleAddress() {
        const type = document.getElementById('orderType').value;
        document.getElementById('addrBox').style.display = (type === 'Delivery') ? 'block' : 'none';
    }

    // --- CHECKOUT WHATSAPP ---
    function checkoutWA() {
        if(Object.keys(cart).length === 0) return alert("Keranjang kosong!");
        
        const name = document.getElementById('custName').value;
        const type = document.getElementById('orderType').value;
        const addr = document.getElementById('custAddr').value;

        if(!name) return alert("Mohon isi nama Anda");
        if(type === 'Delivery' && !addr) return alert("Mohon isi alamat pengantaran");

        let msg = `*HALO CORAL CAFE!* ðŸŒ´\nSaya mau pesan menu:\n\n`;
        msg += `ðŸ‘¤ Nama: ${name}\n`;
        msg += `ðŸ½ï¸ Tipe: ${type}\n`;
        if(type === 'Delivery') msg += `ðŸ“ Alamat: ${addr}\n`;
        msg += `\n*--- ORDER ---*\n`;

        let total = 0;
        for (const [id, qty] of Object.entries(cart)) {
            const p = products.find(i => i.id == id);
            msg += `${qty}x ${p.name}\n`;
            total += p.price * qty;
        }

        msg += `\n*TOTAL: Rp ${total.toLocaleString('id-ID')}*`;
        msg += `\n\nMohon diproses, terima kasih!`;

        window.open(`https://wa.me/6281234567890?text=${encodeURIComponent(msg)}`, '_blank');
    }

    // --- NAVIGASI MOBILE & SCROLL (SAMA DENGAN INDEX) ---
    const mobileMenu = document.getElementById('mobile-menu');
    const navLinks = document.querySelector('.nav-links');

    mobileMenu.addEventListener('click', () => {
        navLinks.classList.toggle('active');
        mobileMenu.classList.toggle('active');
    });

    function toggleMenu() {
        navLinks.classList.remove('active');
        mobileMenu.classList.remove('active');
    }

    let mybutton = document.getElementById("backToTopBtn");
    window.onscroll = function() {
        if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
            mybutton.style.display = "block";
        } else {
            mybutton.style.display = "none";
        }
    };
    function topFunction() { window.scrollTo({top: 0, behavior: 'smooth'}); }

    // Init Menu
    renderMenu();
</script>

</body>
</html>